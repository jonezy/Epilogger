@model Epilogger.Web.Models.AccountModel

@{
    ViewBag.Title = "Account";
}

<div class="grid_3 alpha">
    <h2>Social networks</h2>
    @if (string.IsNullOrEmpty(Model.TwitterUsername)) {
        using (Html.BeginForm("BuildAuthenticationRequest", "Twitter", new { area = "Authentication" }, FormMethod.Post, new { @class = "remove-bottom" })) {
            <input type="submit" value="link your account with twitter" name="twitter" />
        }
    } else {
        @:<p class="half-bottom">You are connected to twitter as: <strong>@Model.TwitterUsername</strong> (@Html.ActionLink("x", "Disconnect", "Twitter", new { area = "Authentication" }, null))</p>
    }

    @if (string.IsNullOrEmpty(Model.FacebookUsername)) {
        using (Html.BeginForm("BuildAuthenticationRequest", "Facebook", new { area = "Authentication" }, FormMethod.Post, new { @class = "remove-bottom" })) {
            <input type="submit" value="link your account with facebook" name="facebook" />
        }
    } else {
        @:<p class="remove-bottom">You are connected to facebook as: <strong>@Model.FacebookUsername</strong> (@Html.ActionLink("x", "Disconnect", "Facebook", new { area = "Authentication" }, null))</p>
    }
</div>

<div class="grid_4">
    <h2>Your Info</h2>
    @using (Html.BeginForm("Update", "Account", FormMethod.Post)) {
        <fieldset>
 <div class="grid_3 alpha">
        <p>@Html.LabelFor(model => model.FirstName) @Html.TextBoxFor(model => model.FirstName)</p>
    </div>
    <div class="grid_4">
        <p>@Html.LabelFor(model => model.LastName) @Html.TextBoxFor(model => model.LastName)</p>
    </div>
    <br style="clear:both;" />
    
    <div class="grid_7 alpha">
        <p>@Html.LabelFor(model => model.EmailAddress) @Html.TextBoxFor(model => model.EmailAddress)</p>
    </div>
    <br style="clear:both;" />
    
    <div class="grid_3 alpha">
        <p>@Html.LabelFor(model => model.DateOfBirth) @Html.TextBoxFor(model => model.DateOfBirth, new { @class = "dob" })</p>
    </div>
    <div class="grid_4">
        <p>@Html.LabelFor(model => model.TimeZone) @Html.DropDownList("timez", Model.TimeZones, "Select your timezone")</p>
    </div>    
    <br style="clear:both;" />
            <p><input type="submit" class="submit" value="update" /></p>
        </fieldset>
    }
</div>


<br style="clear:both;" />
